[{"comment":"获取loginhash和formhash","request":{"method":"GET","url":"https://i.pcbeta.com/member.php?mod=logging&action=login","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"loginhash","re":"loginhash=(.+?)\"","from":"content"},{"name":"formhash","re":"name=\"formhash\" value=\"(.+)\"","from":"content"}]}},{"comment":"GB2312编码","request":{"method":"GET","url":"http://localhost/util/gb2312?content={{username|urlencode}}","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"username","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"登录","request":{"method":"POST","url":"https://i.pcbeta.com/member.php?mod=logging&action=login&loginsubmit=yes&frommessage=&loginhash={{loginhash|urlencode}}&inajax=1","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"origin","value":"https://i.pcbeta.com"},{"name":"content-type","value":"application/x-www-form-urlencoded"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://i.pcbeta.com/home.php?mod=task"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[],"data":"formhash={{formhash}}&referer=https%3A%2F%2Fi.pcbeta.com%2Fhome.php%3Fmod%3Dtask&username={{username}}&password={{md5(password)}}&questionid=0&answer=&cookietime=2592000","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"欢迎您回来","from":"content"}],"failed_asserts":[{"re":"登录失败","from":"content"}],"extract_variables":[]}},{"comment":"任务页","request":{"method":"GET","url":"https://i.pcbeta.com/home.php?mod=task","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://i.pcbeta.com/home.php?mod=task"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[]}},{"comment":"签到","request":{"method":"GET","url":"https://i.pcbeta.com/home.php?mod=task&do=apply&id=149","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"302","from":"status"},{"re":"200","from":"content"}],"failed_asserts":[{"re":"您需要先登录才能继续本操作","from":"content"}],"extract_variables":[]}},{"comment":"签到结果","request":{"method":"GET","url":"https://i.pcbeta.com/home.php?mod=task&do=draw&id=149","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"msg","re":"messagetext[\\s\\S]*<p>(.*)<\\/p>","from":"content"}]}},{"comment":"积分页","request":{"method":"GET","url":"https://i.pcbeta.com/home.php?mod=spacecp&ac=credit","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://i.pcbeta.com/home.php?mod=task"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"pbb","re":"PB币:</em>(\\d+ )","from":"content"},{"name":"ww","re":"威望:</em>(\\d+ )","from":"content"},{"name":"gx","re":"贡献:</em>(\\d+ )","from":"content"},{"name":"js","re":"技术:</em>(\\d+ )","from":"content"},{"name":"hy","re":"活跃:</em>(\\d+ )","from":"content"},{"name":"jf","re":"积分:</em>(\\d+ )","from":"content"},{"name":"nickName","re":"访问我的空间\">(.+?)<","from":"content"}]}},{"comment":"日志","request":{"method":"GET","url":"http://localhost/util/string/replace?r=text&t=%20&p=%20&s=%E7%AD%BE%E5%88%B0%E4%BF%A1%E6%81%AF%EF%BC%9A%E3%80%90{{unicode(msg|default('签到成功'))|urlencode}}%E3%80%91%5Cr%5Cn%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%EF%BC%9A%E3%80%90{{nickName|urlencode}}%E3%80%91%20---%20PB%E5%B8%81%EF%BC%9A%E3%80%90{{pbb|urlencode}}%E3%80%91%C2%A0---%20%E5%A8%81%E6%9C%9B%EF%BC%9A%E3%80%90{{ww|urlencode}}%E3%80%91%C2%A0---%20%E8%B4%A1%E7%8C%AE%EF%BC%9A%E3%80%90{{gx|urlencode}}%E3%80%91%C2%A0---%20%E6%8A%80%E6%9C%AF%EF%BC%9A%E3%80%90{{js|urlencode}}%E3%80%91%C2%A0---%20%E6%B4%BB%E8%B7%83%EF%BC%9A%E3%80%90{{hy|urlencode}}%E3%80%91%C2%A0---%20%E7%A7%AF%E5%88%86%EF%BC%9A%E3%80%90{{jf|urlencode}}%E3%80%91","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"__log__","re":".+","from":"content"}]}}]