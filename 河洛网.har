[{"comment":"获取formhash","request":{"method":"GET","url":"https://www.horou.com/","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.horou.com/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"formhash","re":"name=\"formhash\" value=\"(.+)\"","from":"content"}]}},{"comment":"GB2312编码","request":{"method":"GET","url":"api://util/gb2312?content={{username|urlencode}}","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"username","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"登录","request":{"method":"POST","url":"https://www.horou.com/member.php?mod=logging&action=login&loginsubmit=yes&infloat=yes&lssubmit=yes&inajax=1","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"origin","value":"https://www.horou.com"},{"name":"content-type","value":"application/x-www-form-urlencoded"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.horou.com/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[],"data":"username={{username}}&cookietime=2592000&password={{md5(password)}}&formhash={{formhash}}&quickforward=yes&handlekey=ls","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"失败","from":"content"},{"re":"错误","from":"content"},{"re":"重试","from":"content"}],"extract_variables":[]}},{"comment":"获取formhash","request":{"method":"GET","url":"https://www.horou.com/","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.horou.com/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"formhash","re":"name=\"formhash\" value=\"(.+)\"","from":"content"}]}},{"comment":"签到","request":{"method":"GET","url":"https://www.horou.com/plugin.php?id=k_misign%3Asign&operation=qiandao&format=global_usernav_extra&formhash={{formhash|urlencode}}&inajax=1&ajaxtarget=k_misign_topb","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"x-requested-with","value":"XMLHttpRequest"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36"},{"name":"accept","value":"*/*"},{"name":"referer","value":"https://www.horou.com/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"msg","re":"([\\u4E00-\\u9FA5]+)","from":"content"}]}},{"comment":"积分页","request":{"method":"GET","url":"https://www.horou.com/home.php?mod=spacecp&ac=credit&showcredit=1","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.99 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.horou.com/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"ss","re":"神石: </em>(\\d+)","from":"content"},{"name":"tys","re":"铜钥匙: </em>(\\d+)","from":"content"},{"name":"hlb","re":"河洛币: </em>(\\d+)","from":"content"},{"name":"yys","re":"银钥匙: </em>(\\d+)","from":"content"},{"name":"ll","re":"灵力: </em>(\\d+)","from":"content"},{"name":"ls","re":"灵石: </em>(\\d+)","from":"content"},{"name":"xzs","re":"下载数: </em>(\\d+)","from":"content"},{"name":"jys","re":"金钥匙: </em>(\\d+)","from":"content"},{"name":"jf","re":"积分: </em>(\\d+)","from":"content"},{"name":"nickName","re":"访问我的空间\">(.+?)<","from":"content"}]}},{"comment":"日志","request":{"method":"GET","url":"api://util/string/replace?r=text&t=%C2%A0&p=%C2%A0&s=%E7%94%A8%E6%88%B7%EF%BC%9A%E3%80%90{{nickName|urlencode}}%E3%80%91%5Cr%5Cn%E7%AD%BE%E5%88%B0%E4%BF%A1%E6%81%AF%EF%BC%9A%E3%80%90{{msg|urlencode}}%E3%80%91%5Cr%5Cn%E7%A5%9E%E7%9F%B3%EF%BC%9A%E3%80%90{{ss|urlencode}}%E3%80%91%EF%BC%8C%E9%93%9C%E9%92%A5%E5%8C%99%EF%BC%9A%E3%80%90{{tys|urlencode}}%E3%80%91%EF%BC%8C%E6%B2%B3%E6%B4%9B%E5%B8%81%EF%BC%9A%E3%80%90{{hlb|urlencode}}%E3%80%91%EF%BC%8C%E9%93%B6%E9%92%A5%E5%8C%99%EF%BC%9A%E3%80%90{{yys|urlencode}}%E3%80%91%EF%BC%8C%E7%81%B5%E5%8A%9B%EF%BC%9A%E3%80%90{{ll|urlencode}}%E3%80%91%EF%BC%8C%E7%81%B5%E7%9F%B3%EF%BC%9A%E3%80%90{{ls|urlencode}}%E3%80%91%EF%BC%8C%E4%B8%8B%E8%BD%BD%E6%95%B0%EF%BC%9A%E3%80%90{{xzs|urlencode}}%E3%80%91%EF%BC%8C%E9%87%91%E9%92%A5%E5%8C%99%EF%BC%9A%E3%80%90{{jys|urlencode}}%E3%80%91%EF%BC%8C%E7%A7%AF%E5%88%86%EF%BC%9A%E3%80%90{{jf|urlencode}}%E3%80%91","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"__log__","re":".+","from":"content"}]}}]