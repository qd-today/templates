[{"comment":"扫码页面初始页面","request":{"method":"GET","url":"https://cloud.189.cn/api/portal/loginUrl.action?redirectURL=https%3A%2F%2Fcloud.189.cn%2Fweb%2Fredirect.html%3FreturnURL%3D%2Fmain.action","headers":[{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept","value":"*/*"},{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:74.0) Gecko/20100101 Firefox/76.0"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[{"re":"302","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"saomaurl","re":"([\\s\\S]*)","from":"header-location"}]}},{"comment":"正式扫码页面","request":{"method":"GET","url":"{{saomaurl}}","headers":[{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept","value":"*/*"},{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:74.0) Gecko/20100101 Firefox/76.0"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"captchaToken","re":"captchaToken' value='(.+?)'","from":"content"},{"name":"lt","re":"lt = \"(.+?)\"","from":"content"},{"name":"return_url","re":"returnUrl = '(.+?)'","from":"content"},{"name":"param_id","re":"paramId = \"(.+?)\"","from":"content"},{"name":"j_rsa_key","re":"j_rsaKey\" value=\"(\\S+)\"","from":"content"}]}},{"comment":"username[RSA加密]","request":{"method":"GET","url":"http://localhost/util/rsa?key=-----BEGIN%20PUBLIC%20KEY-----{{j_rsa_key|urlencode}}-----END%20PUBLIC%20KEY-----&data={{username|urlencode}}&f=encode","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"userrsakey","re":"(.*)","from":"content"}]}},{"comment":"Copy_Copy_","request":{"method":"POST","url":"https://www.asciitohex.com/","headers":[],"cookies":[],"data":"b64={{userrsakey|urlencode}}"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"hexuserrsakey","re":"<textarea id=\"hex\" name=\"hex\">(.*?)</textarea>","from":"content"}]}},{"comment":"unicode转换","request":{"method":"GET","url":"http://localhost/util/unicode?content=%7BRSA%7D{{hexuserrsakey|replace(' ','')|urlencode}}","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"userkey","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"password[RSA加密]","request":{"method":"GET","url":"http://localhost/util/rsa?key=-----BEGIN%20PUBLIC%20KEY-----{{j_rsa_key|urlencode}}-----END%20PUBLIC%20KEY-----&data={{password|urlencode}}&f=encode","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"passrsakey","re":"(.*)","from":"content"}]}},{"comment":"Copy_Copy_","request":{"method":"POST","url":"https://www.asciitohex.com/","headers":[],"cookies":[],"data":"b64={{passrsakey|urlencode}}"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"hexpassrsakey","re":"<textarea id=\"hex\" name=\"hex\">(.*?)</textarea>","from":"content"}]}},{"comment":"unicode转换","request":{"method":"GET","url":"http://localhost/util/unicode?content=%7BRSA%7D{{hexpassrsakey|replace(' ','')|urlencode}}","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"passkey","re":"\"转换后\": \"(.*)\"","from":"content"}]}},{"comment":"登录获取token-登录成功","request":{"method":"POST","url":"https://open.e.189.cn/api/logbox/oauth2/loginSubmit.do","headers":[{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept","value":"*/*"},{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:74.0) Gecko/20100101 Firefox/76.0"},{"name":"lt","value":"{{lt}}"},{"name":"Referer","value":"https://open.e.189.cn/"}],"cookies":[],"data":"appKey=cloud&accountType=01&userName={{userkey}}&password={{passkey}}&validateCode=&captchaToken={{captchaToken}}&returnUrl={{return_url}}&mailSuffix=\"@189.cn\"&paramId={{param_id|urlencode}}","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"tourl","re":"\"toUrl\":\"(.*?)\"","from":"content"},{"name":"msg","re":"msg\":\"(.*?)\"","from":"content"}]}},{"comment":"登录成功后跳转","request":{"method":"GET","url":"{{tourl}}","headers":[{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept","value":"*/*"},{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:74.0) Gecko/20100101 Firefox/76.0"},{"name":"lt","value":"{{lt}}"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[],"failed_asserts":[],"extract_variables":[]}},{"comment":"时间戳","request":{"method":"GET","url":"http://localhost/util/unicode?content={{multiply(timestamp('float'),1000)|urlencode}}","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"_timestamp1","re":"\"转换后\": \"(.............)","from":"content"}]}},{"comment":"签到","request":{"method":"GET","url":"https://api.cloud.189.cn/mkt/userSign.action?rand={{_timestamp1|urlencode}}&clientType=TELEANDROID&version=8.6.3&model=SM-G930K","headers":[{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept","value":"*/*"},{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Linux; Android 5.1.1; SM-G930K Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36 Ecloud/8.6.3 Android/22 clientId/355325117317828 clientModel/SM-G930K imsi/460071114317824 clientChannelId/qq proVersion/1.0.6"},{"name":"Referer","value":"https://m.cloud.189.cn/zhuanti/2016/sign/index.jsp?albumBackupOpened=1"},{"name":"Host","value":"m.cloud.189.cn"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"netdiskBonus","re":"\"netdiskBonus\":(.+?),","from":"content"},{"name":"isSign","re":"\"isSign\":(.+?),","from":"content"}]}},{"comment":"抽奖1","request":{"method":"GET","url":"https://m.cloud.189.cn/v2/drawPrizeMarketDetails.action?taskId=TASK_SIGNIN&activityId=ACT_SIGNIN","headers":[{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept","value":"*/*"},{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Linux; Android 5.1.1; SM-G930K Build/NRD90M; wv)AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36 Ecloud/8.6.3 Android/22 clientId/355325117317828 clientModel/SM-G930K imsi/460071114317824 clientChannelId/qq proVersion/1.0.6"},{"name":"Referer","value":"https://m.cloud.189.cn/zhuanti/2016/sign/index.jsp?albumBackupOpened=1"},{"name":"Host","value":"m.cloud.189.cn"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"prizeName1","re":"\"prizeName\":\"(.+?)\"","from":"content"},{"name":"errorCode1","re":"\"errorCode\":\"(.+?)\"","from":"content"}]}},{"comment":"抽奖2","request":{"method":"GET","url":"https://m.cloud.189.cn/v2/drawPrizeMarketDetails.action?taskId=TASK_SIGNIN_PHOTOS&activityId=ACT_SIGNIN","headers":[{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept","value":"*/*"},{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Linux; Android 5.1.1; SM-G930K Build/NRD90M; wv)AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36 Ecloud/8.6.3 Android/22 clientId/355325117317828 clientModel/SM-G930K imsi/460071114317824 clientChannelId/qq proVersion/1.0.6"},{"name":"Referer","value":"https://m.cloud.189.cn/zhuanti/2016/sign/index.jsp?albumBackupOpened=1"},{"name":"Host","value":"m.cloud.189.cn"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"prizeName2","re":"\"prizeName\":\"(.+?)\"","from":"content"},{"name":"errorCode2","re":"\"errorCode\":\"(.+?)\"","from":"content"}]}},{"comment":"登出","request":{"method":"GET","url":"https://cloud.189.cn/api/portal/logout.action?redirectURL=https%3A%2F%2Fcloud.189.cn%2Fweb%2Flogin.html","headers":[{"name":"Accept-Encoding","value":"gzip, deflate"},{"name":"Accept","value":"*/*"},{"name":"Connection","value":"keep-alive"},{"name":"User-Agent","value":"Mozilla/5.0 (Linux; Android 5.1.1; SM-G930K Build/NRD90M; wv)AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36 Ecloud/8.6.3 Android/22 clientId/355325117317828 clientModel/SM-G930K imsi/460071114317824 clientChannelId/qq proVersion/1.0.6"},{"name":"Host","value":"m.cloud.189.cn"}],"cookies":[],"data":"","mimeType":"application/x-www-form-urlencoded; charset=UTF-8"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"prizeName2","re":"prizeName","from":"content"},{"name":"errorCode2","re":"errorCode","from":"content"}]}},{"comment":"unicode转换","request":{"method":"GET","url":"http://localhost/util/unicode?content=%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF%EF%BC%9A{{msg|urlencode}}%20%5Cr%5Cn%E7%AD%BE%E5%88%B0%E7%8A%B6%E6%80%81%EF%BC%9A{{isSign|urlencode}}%EF%BC%8C%E7%AD%BE%E5%88%B0%E8%8E%B7%E5%BE%97{{netdiskBonus|urlencode}}M%E7%A9%BA%E9%97%B4%20%5Cr%5Cn%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8A%BD%E5%A5%96%EF%BC%9A{{prizeName1|urlencode}}%20{{errorCode1|urlencode}}%20%5Cr%5Cn%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%8A%BD%E5%A5%96%EF%BC%9A{{prizeName2|urlencode}}%20{{errorCode2|urlencode}}%C2%A0","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"200\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"__log__","re":"\"转换后\": \"(.*)\"","from":"content"}]}}]
